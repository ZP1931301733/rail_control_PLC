# Rail_control_PLC Project Instructions
基于汇川的PLC硬件(easy521系列)以及对应梯形图程序开发软件(AutoShop)的多伺服电机运动控制程序。

此工程目前运用于Ag小组项目中的平面滑轨运动场景，X轴两个电机具有同步功能，Y轴一个电机。

[汇川官网](https://www.inovance.com/)

[NiMotion伺服电机官网](https://www.nimotion.cn/)

# 工程主要结构
  ```
  .
  ├──doc
  ├──rail_control
  │   ├──轴控制数据处理.FB
  │   ├──轴运动控制.FB
  │   ├──两轴同步.FB
  │   ├──外部急停.FB
  │   ├──轴监控数据处理.FB
  │   ├──变量表.csv
  ├──motor_config
  │   ├──NiMotion_PMM_V1.15.xml
  ```
下面是主要文件说明：
- `doc` 内包含相关伺服电机以及驱动器、汇川PLC、AutoShop软件等使用说明文档。
- `rail_control` 是程序实现的整个工程文件，其中：
  - `轴控制数据处理.FB` 通过modbus tcp通信接收上位机设备的控制指令，并处理成能用于实现运动控制的数据。
  - `轴运动控制.FB` 实现对伺服电机的运动控制，包括绝对定位、相对定位、回零、复位等功能。
  - `两轴同步.FB` 实现多个轴的运动同步，目前为两个轴。
  - `外部急停.FB` 实现通过外部按钮紧急停止电机相关程序的运行。
  - `轴监控数据处理.FB` 将伺服电机和驱动器的状态数据处理后，通过modbus tcp通信发送给上位机。
  - `变量表.csv` 变量分两层，外部变量(软元件表)由上位机控制，内部变量(变量表Cn)自动模式下(可通过按键控制)由外部变量控制，手动模式下可以通过外接触摸屏直接控制。
- `motor_config` 内含对应伺服驱动器的xml配置文件。
